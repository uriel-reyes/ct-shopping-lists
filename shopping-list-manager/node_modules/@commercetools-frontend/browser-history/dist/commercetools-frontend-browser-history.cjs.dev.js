'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var history = require('history');
var withQuery = require('history-query-enhancer');
var qss = require('qss');

function _interopDefault (e) { return e && e.__esModule ? e : { 'default': e }; }

var withQuery__default = /*#__PURE__*/_interopDefault(withQuery);

// NOTE: This string will be replaced on build time with the package version.
var version = "22.13.0";

const canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);
function parse(search) {
  // Note: the "?" needs to be removed.
  return qss.decode(search.substring(1));
}
const createEnhancedHistory = withQuery__default["default"]({
  parse,
  stringify: qss.encode
});
const browserHistory = createEnhancedHistory(
// For SSR compatibility
canUseDOM ? history.createBrowserHistory() : history.createMemoryHistory());

exports.createEnhancedHistory = createEnhancedHistory;
exports["default"] = browserHistory;
exports.version = version;
