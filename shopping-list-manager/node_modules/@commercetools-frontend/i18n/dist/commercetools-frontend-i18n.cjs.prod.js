'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var _pt = require('prop-types');
var react = require('react');
var sentry = require('@commercetools-frontend/sentry');
var _Object$keys = require('@babel/runtime-corejs3/core-js-stable/object/keys');
var _Object$getOwnPropertySymbols = require('@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols');
var _filterInstanceProperty = require('@babel/runtime-corejs3/core-js-stable/instance/filter');
var _Object$getOwnPropertyDescriptor = require('@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor');
var _forEachInstanceProperty = require('@babel/runtime-corejs3/core-js-stable/instance/for-each');
var _Object$getOwnPropertyDescriptors = require('@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors');
var _Object$defineProperties = require('@babel/runtime-corejs3/core-js-stable/object/define-properties');
var _Object$defineProperty = require('@babel/runtime-corejs3/core-js-stable/object/define-property');
var _defineProperty = require('@babel/runtime-corejs3/helpers/defineProperty');
var _slicedToArray = require('@babel/runtime-corejs3/helpers/slicedToArray');
var _includesInstanceProperty = require('@babel/runtime-corejs3/core-js-stable/instance/includes');
var _reduceInstanceProperty = require('@babel/runtime-corejs3/core-js-stable/instance/reduce');
var _Object$entries = require('@babel/runtime-corejs3/core-js-stable/object/entries');
var _Object$assign = require('@babel/runtime-corejs3/core-js-stable/object/assign');
var _startsWithInstanceProperty = require('@babel/runtime-corejs3/core-js-stable/instance/starts-with');
var jsxRuntime = require('@emotion/react/jsx-runtime');
var reactIntl = require('react-intl');

function _interopDefault (e) { return e && e.__esModule ? e : { 'default': e }; }

function _interopNamespace(e) {
  if (e && e.__esModule) return e;
  var n = Object.create(null);
  if (e) {
    Object.keys(e).forEach(function (k) {
      if (k !== 'default') {
        var d = Object.getOwnPropertyDescriptor(e, k);
        Object.defineProperty(n, k, d.get ? d : {
          enumerable: true,
          get: function () { return e[k]; }
        });
      }
    });
  }
  n["default"] = e;
  return Object.freeze(n);
}

var _pt__default = /*#__PURE__*/_interopDefault(_pt);
var _Object$keys__default = /*#__PURE__*/_interopDefault(_Object$keys);
var _Object$getOwnPropertySymbols__default = /*#__PURE__*/_interopDefault(_Object$getOwnPropertySymbols);
var _filterInstanceProperty__default = /*#__PURE__*/_interopDefault(_filterInstanceProperty);
var _Object$getOwnPropertyDescriptor__default = /*#__PURE__*/_interopDefault(_Object$getOwnPropertyDescriptor);
var _forEachInstanceProperty__default = /*#__PURE__*/_interopDefault(_forEachInstanceProperty);
var _Object$getOwnPropertyDescriptors__default = /*#__PURE__*/_interopDefault(_Object$getOwnPropertyDescriptors);
var _Object$defineProperties__default = /*#__PURE__*/_interopDefault(_Object$defineProperties);
var _Object$defineProperty__default = /*#__PURE__*/_interopDefault(_Object$defineProperty);
var _includesInstanceProperty__default = /*#__PURE__*/_interopDefault(_includesInstanceProperty);
var _reduceInstanceProperty__default = /*#__PURE__*/_interopDefault(_reduceInstanceProperty);
var _Object$entries__default = /*#__PURE__*/_interopDefault(_Object$entries);
var _Object$assign__default = /*#__PURE__*/_interopDefault(_Object$assign);
var _startsWithInstanceProperty__default = /*#__PURE__*/_interopDefault(_startsWithInstanceProperty);

// NOTE: This string will be replaced on build time with the package version.
var version = "22.13.0";

// @ts-nocheck
/* THIS IS A GENERATED FILE */

async function loadMomentLocales(locale) {
  const lowercaseLocale = locale.toLowerCase();
  switch (lowercaseLocale) {
    case 'de':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/de')); });
      break;
    case 'de-at':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/de-at')); });
      break;
    case 'de-be':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/de')); });
      break;
    case 'de-ch':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/de-ch')); });
      break;
    case 'de-de':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/de')); });
      break;
    case 'de-li':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/de')); });
      break;
    case 'de-lu':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/de')); });
      break;
    case 'en-au':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/en-au')); });
      break;
    case 'en-ca':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/en-ca')); });
      break;
    case 'en-gb':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/en-gb')); });
      break;
    case 'en-ie':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/en-ie')); });
      break;
    case 'en-in':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/en-in')); });
      break;
    case 'en-nz':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/en-nz')); });
      break;
    case 'en-sg':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/en-sg')); });
      break;
    case 'es':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/es')); });
      break;
    case 'es-ar':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/es')); });
      break;
    case 'es-bo':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/es')); });
      break;
    case 'es-cl':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/es')); });
      break;
    case 'es-co':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/es')); });
      break;
    case 'es-cr':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/es')); });
      break;
    case 'es-cu':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/es')); });
      break;
    case 'es-do':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/es-do')); });
      break;
    case 'es-ea':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/es')); });
      break;
    case 'es-ec':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/es')); });
      break;
    case 'es-es':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/es')); });
      break;
    case 'es-gq':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/es')); });
      break;
    case 'es-gt':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/es')); });
      break;
    case 'es-hn':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/es')); });
      break;
    case 'es-ic':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/es')); });
      break;
    case 'es-mx':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/es-mx')); });
      break;
    case 'es-ni':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/es')); });
      break;
    case 'es-pa':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/es')); });
      break;
    case 'es-pe':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/es')); });
      break;
    case 'es-pr':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/es')); });
      break;
    case 'es-py':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/es')); });
      break;
    case 'es-sv':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/es')); });
      break;
    case 'es-uy':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/es')); });
      break;
    case 'es-ve':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/es')); });
      break;
    case 'fr-fr':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/fr')); });
      break;
    case 'pt-br':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/pt-br')); });
      break;
    case 'zh-cn':
      await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('moment/dist/locale/zh-cn')); });
      break;
  }
}

function ownKeys(e, r) { var t = _Object$keys__default["default"](e); if (_Object$getOwnPropertySymbols__default["default"]) { var o = _Object$getOwnPropertySymbols__default["default"](e); r && (o = _filterInstanceProperty__default["default"](o).call(o, function (r) { return _Object$getOwnPropertyDescriptor__default["default"](e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context2, _context3; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _forEachInstanceProperty__default["default"](_context2 = ownKeys(Object(t), !0)).call(_context2, function (r) { _defineProperty(e, r, t[r]); }) : _Object$getOwnPropertyDescriptors__default["default"] ? _Object$defineProperties__default["default"](e, _Object$getOwnPropertyDescriptors__default["default"](t)) : _forEachInstanceProperty__default["default"](_context3 = ownKeys(Object(t))).call(_context3, function (r) { _Object$defineProperty__default["default"](e, r, _Object$getOwnPropertyDescriptor__default["default"](t, r)); }); } return e; }
const extractLanguageTagFromLocale = locale => _includesInstanceProperty__default["default"](locale).call(locale, '-') ? locale.split('-')[0] : locale;
const isStructuredJson = message => (message === null || message === void 0 ? void 0 : message.string) !== undefined;
const parseChunkImport = chunkImport => {
  var _context;
  // Prefer loading `default` (for ESM bundles) and
  // fall back to normal import (for CJS bundles).
  const contents = chunkImport.default || chunkImport;
  return _reduceInstanceProperty__default["default"](_context = _Object$entries__default["default"](contents)).call(_context, (messages, _ref) => {
    let _ref2 = _slicedToArray(_ref, 2),
      messageKey = _ref2[0],
      messageValue = _ref2[1];
    const messageAsString = isStructuredJson(messageValue) ? messageValue.string : messageValue;
    return _objectSpread(_objectSpread({}, messages), {}, {
      [messageKey]: messageAsString
    });
  }, {});
};
const mergeMessages = function () {
  for (var _len = arguments.length, messages = new Array(_len), _key = 0; _key < _len; _key++) {
    messages[_key] = arguments[_key];
  }
  return _Object$assign__default["default"]({}, ...messages);
};
const mapLocaleToIntlLocale = locale => {
  if (_startsWithInstanceProperty__default["default"](locale).call(locale, 'de')) return 'de';
  if (_startsWithInstanceProperty__default["default"](locale).call(locale, 'es')) return 'es';
  if (_startsWithInstanceProperty__default["default"](locale).call(locale, 'fr')) return 'fr-FR';
  if (locale === 'pt-BR') return 'pt-BR';
  if (locale === 'zh-CN') return 'zh-CN';
  return 'en';
};

const getUiKitChunkImport = locale => {
  const intlLocale = mapLocaleToIntlLocale(locale);
  switch (intlLocale) {
    case 'de':
      return Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require( /* webpackChunkName: "i18n-ui-kit-locale-de" */'@commercetools-uikit/i18n/compiled-data/de.json')); });
    case 'es':
      return Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require( /* webpackChunkName: "i18n-ui-kit-locale-es" */'@commercetools-uikit/i18n/compiled-data/es.json')); });
    case 'fr-FR':
      return Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require( /* webpackChunkName: "i18n-ui-kit-locale-fr-FR" */'@commercetools-uikit/i18n/compiled-data/fr-FR.json')); });
    case 'pt-BR':
      return Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require( /* webpackChunkName: "i18n-ui-kit-locale-pt-BR" */'@commercetools-uikit/i18n/compiled-data/pt-BR.json')); });
    case 'zh-CN':
      return Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require( /* webpackChunkName: "i18n-ui-kit-locale-zh-CN" */'@commercetools-uikit/i18n/compiled-data/zh-CN.json')); });
    default:
      return Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require( /* webpackChunkName: "i18n-ui-kit-locale-en" */'@commercetools-uikit/i18n/compiled-data/en.json')); });
  }
};
const getAppKitChunkImport = locale => {
  const intlLocale = mapLocaleToIntlLocale(locale);
  switch (intlLocale) {
    case 'de':
      return Promise.resolve().then(function () { return require( /* webpackChunkName: "i18n-app-kit-locale-de" */'./de-53e78818.cjs.prod.js'); });
    case 'es':
      return Promise.resolve().then(function () { return require( /* webpackChunkName: "i18n-app-kit-locale-es" */'./es-06d66908.cjs.prod.js'); });
    case 'fr-FR':
      return Promise.resolve().then(function () { return require( /* webpackChunkName: "i18n-app-kit-locale-fr-FR" */'./fr-FR-02dd7db1.cjs.prod.js'); });
    case 'pt-BR':
      return Promise.resolve().then(function () { return require( /* webpackChunkName: "i18n-app-kit-locale-pt-BR" */'./pt-BR-477af27f.cjs.prod.js'); });
    case 'zh-CN':
      return Promise.resolve().then(function () { return require( /* webpackChunkName: "i18n-app-kit-locale-zh-CN" */'./zh-CN-aa726492.cjs.prod.js'); });
    default:
      return Promise.resolve().then(function () { return require( /* webpackChunkName: "i18n-app-kit-locale-en" */'./en-3bc4c34d.cjs.prod.js'); });
  }
};
const getCommunityKitChunkImport = async locale => {
  const intlLocale = mapLocaleToIntlLocale(locale);
  switch (intlLocale) {
    case 'de':
      return await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require( /* webpackChunkName: "i18n-community-kit-locale-de" */'@commercetools-community-kit/i18n/compiled-data/de.json')); });
    case 'es':
      return await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require( /* webpackChunkName: "i18n-community-kit-locale-es" */'@commercetools-community-kit/i18n/compiled-data/es.json')); });
    case 'fr-FR':
      return await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require( /* webpackChunkName: "i18n-community-kit-locale-fr-FR" */'@commercetools-community-kit/i18n/compiled-data/fr-FR.json')); });
    case 'zh-CN':
      return await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require( /* webpackChunkName: "i18n-community-kit-locale-zh-CN" */'@commercetools-community-kit/i18n/compiled-data/zh-CN.json')); });
    default:
      return await Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require( /* webpackChunkName: "i18n-community-kit-locale-en" */'@commercetools-community-kit/i18n/compiled-data/en.json')); });
  }
};

// Use default (lazy) so that we will receive one chunk per
// locale. https://webpack.js.org/api/module-methods/#import-
async function loadI18n(locale) {
  // Load moment localizations
  await loadMomentLocales(locale);

  // Load ui-kit translations
  const uiKitChunkImport = await getUiKitChunkImport(locale);

  // Load app-kit translations
  const appKitChunkImport = await getAppKitChunkImport(locale);

  // Load community-kit translations
  const communityKitChunkImport = await getCommunityKitChunkImport(locale);

  // Prefer loading `default` (for ESM bundles) and
  // fall back to normal import (for CJS bundles).
  return mergeMessages(parseChunkImport(uiKitChunkImport), parseChunkImport(appKitChunkImport), parseChunkImport(communityKitChunkImport));
}

const initialState = {
  isLoading: true,
  messages: undefined,
  error: undefined
};

// Low level hook to load messages for a specific locale. The loading is async
// because it's assumed that the translation files are dynamically imported (code splitted).
const useAsyncIntlMessages = _ref => {
  let locale = _ref.locale,
    loader = _ref.loader;
  const _useState = react.useState(initialState),
    _useState2 = _slicedToArray(_useState, 2),
    state = _useState2[0],
    setState = _useState2[1];
  react.useEffect(() => {
    let _isUnmounting = false;
    async function load(_locale) {
      try {
        if (!_isUnmounting) {
          const messages = await loader(_locale);
          setState({
            isLoading: false,
            messages
          });
        }
      } catch (error) {
        if (error instanceof Error) {
          setState({
            isLoading: false,
            error
          });
        }
      }
    }
    if (locale) load(locale);
    return () => {
      _isUnmounting = true;
    };
  }, [locale, loader]);
  return state;
};

const getMessagesForLocale = (data, locale) => {
  if (!data || !locale) return {};
  if (data[locale]) return data[locale];
  const fallbackLanguage = extractLanguageTagFromLocale(locale);
  return data[fallbackLanguage];
};
const useAsyncLocaleData = _ref => {
  var _messagesFromKitResul, _applicationMessagesR, _messagesFromKitResul2;
  let locale = _ref.locale,
    applicationMessages = _ref.applicationMessages;
  const loadApplicationMessages = react.useCallback(async locale => {
    if (typeof applicationMessages === 'function') {
      return await applicationMessages(locale);
    }
    return getMessagesForLocale(applicationMessages, locale);
  },
  // NOTE: we assume that the `applicationMessages` argument never changes.
  // Therefore, we disable the dependency array to not depend on that argument.
  // This is important, to avoid potential infinite loops.
  // eslint-disable-next-line react-hooks/exhaustive-deps
  []);
  const messagesFromKitResult = useAsyncIntlMessages({
    locale,
    loader: loadI18n
  });
  const applicationMessagesResult = useAsyncIntlMessages({
    locale,
    loader: loadApplicationMessages
  });

  // Merge the loaded messages into one
  return {
    isLoading: messagesFromKitResult.isLoading || applicationMessagesResult.isLoading,
    messages: mergeMessages((_messagesFromKitResul = messagesFromKitResult.messages) !== null && _messagesFromKitResul !== void 0 ? _messagesFromKitResul : {}, (_applicationMessagesR = applicationMessagesResult.messages) !== null && _applicationMessagesR !== void 0 ? _applicationMessagesR : {}),
    error: (_messagesFromKitResul2 = messagesFromKitResult.error) !== null && _messagesFromKitResul2 !== void 0 ? _messagesFromKitResul2 : applicationMessagesResult.error
  };
};
const AsyncLocaleData = props => {
  const _useAsyncLocaleData = useAsyncLocaleData(props),
    isLoading = _useAsyncLocaleData.isLoading,
    messages = _useAsyncLocaleData.messages,
    error = _useAsyncLocaleData.error;
  react.useEffect(() => {
    if (error) sentry.reportErrorToSentry(error, {});
  }, [error]);
  return jsxRuntime.jsx(jsxRuntime.Fragment, {
    children: props.children({
      isLoading,
      locale: isLoading ? undefined : props.locale,
      messages: error ? undefined : messages
    })
  });
};
AsyncLocaleData.propTypes = {
  locale: _pt__default["default"].string,
  applicationMessages: _pt__default["default"].oneOfType([_pt__default["default"].objectOf(_pt__default["default"].any), _pt__default["default"].func]).isRequired,
  children: _pt__default["default"].func.isRequired
};

// TODO: move it to its own package, so that other people can also use it?

// Selection of shared messages, to avoid duplicating translations.
// Avoid changing the message id, otherwise you need to translate them again in Transifex.
const messages = reactIntl.defineMessages({
  cancel: {
    id: 'AppKit.Shared.cancel',
    defaultMessage: 'Cancel'
  },
  revert: {
    id: 'AppKit.Shared.revert',
    defaultMessage: 'Revert'
  },
  confirm: {
    id: 'AppKit.Shared.confirm',
    defaultMessage: 'Confirm'
  },
  save: {
    id: 'AppKit.Shared.save',
    defaultMessage: 'Save'
  },
  update: {
    id: 'AppKit.Shared.update',
    defaultMessage: 'Update'
  },
  create: {
    id: 'AppKit.Shared.create',
    defaultMessage: 'Create'
  },
  delete: {
    id: 'AppKit.Shared.delete',
    defaultMessage: 'Delete'
  },
  add: {
    id: 'AppKit.Shared.add',
    defaultMessage: 'Add'
  },
  remove: {
    id: 'AppKit.Shared.remove',
    defaultMessage: 'Remove'
  },
  close: {
    id: 'AppKit.Shared.close',
    defaultMessage: 'Close'
  },
  edit: {
    id: 'AppKit.Shared.edit',
    defaultMessage: 'Edit'
  },
  open: {
    id: 'AppKit.Shared.open',
    defaultMessage: 'Open'
  },
  activate: {
    id: 'AppKit.Shared.activate',
    defaultMessage: 'Activate'
  },
  deactivate: {
    id: 'AppKit.Shared.deactivate',
    defaultMessage: 'Deactivate'
  },
  active: {
    id: 'AppKit.Shared.active',
    defaultMessage: 'Active'
  },
  inactive: {
    id: 'AppKit.Shared.inactive',
    defaultMessage: 'Inactive'
  },
  enable: {
    id: 'AppKit.Shared.enable',
    defaultMessage: 'Enable'
  },
  disable: {
    id: 'AppKit.Shared.disable',
    defaultMessage: 'Disable'
  }
});

exports.AsyncLocaleData = AsyncLocaleData;
exports.isStructuredJson = isStructuredJson;
exports.mapLocaleToIntlLocale = mapLocaleToIntlLocale;
exports.mergeMessages = mergeMessages;
exports.parseChunkImport = parseChunkImport;
exports.sharedMessages = messages;
exports.useAsyncIntlMessages = useAsyncIntlMessages;
exports.useAsyncLocaleData = useAsyncLocaleData;
exports.version = version;
