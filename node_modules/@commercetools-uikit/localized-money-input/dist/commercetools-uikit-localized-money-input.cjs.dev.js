'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var _Object$getOwnPropertySymbols = require('@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols');
var _Object$getOwnPropertyDescriptor = require('@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor');
var _forEachInstanceProperty = require('@babel/runtime-corejs3/core-js-stable/instance/for-each');
var _Object$getOwnPropertyDescriptors = require('@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors');
var _Object$defineProperties = require('@babel/runtime-corejs3/core-js-stable/object/define-properties');
var _Object$defineProperty = require('@babel/runtime-corejs3/core-js-stable/object/define-property');
var _slicedToArray = require('@babel/runtime-corejs3/helpers/slicedToArray');
var _defineProperty = require('@babel/runtime-corejs3/helpers/defineProperty');
var _pt = require('prop-types');
var _filterInstanceProperty = require('@babel/runtime-corejs3/core-js-stable/instance/filter');
var _sortInstanceProperty = require('@babel/runtime-corejs3/core-js-stable/instance/sort');
var _Object$keys = require('@babel/runtime-corejs3/core-js-stable/object/keys');
var _mapInstanceProperty = require('@babel/runtime-corejs3/core-js-stable/instance/map');
var _Object$values = require('@babel/runtime-corejs3/core-js-stable/object/values');
var _reduceInstanceProperty = require('@babel/runtime-corejs3/core-js-stable/instance/reduce');
var react = require('react');
var reactIntl = require('react-intl');
require('@emotion/react');
var hooks = require('@commercetools-uikit/hooks');
var MoneyInput = require('@commercetools-uikit/money-input');
var Stack = require('@commercetools-uikit/spacings-stack');
var Constraints = require('@commercetools-uikit/constraints');
var icons = require('@commercetools-uikit/icons');
var localizedUtils = require('@commercetools-uikit/localized-utils');
var utils = require('@commercetools-uikit/utils');
var inputUtils = require('@commercetools-uikit/input-utils');
var jsxRuntime = require('@emotion/react/jsx-runtime');

function _interopDefault (e) { return e && e.__esModule ? e : { 'default': e }; }

var _Object$getOwnPropertySymbols__default = /*#__PURE__*/_interopDefault(_Object$getOwnPropertySymbols);
var _Object$getOwnPropertyDescriptor__default = /*#__PURE__*/_interopDefault(_Object$getOwnPropertyDescriptor);
var _forEachInstanceProperty__default = /*#__PURE__*/_interopDefault(_forEachInstanceProperty);
var _Object$getOwnPropertyDescriptors__default = /*#__PURE__*/_interopDefault(_Object$getOwnPropertyDescriptors);
var _Object$defineProperties__default = /*#__PURE__*/_interopDefault(_Object$defineProperties);
var _Object$defineProperty__default = /*#__PURE__*/_interopDefault(_Object$defineProperty);
var _pt__default = /*#__PURE__*/_interopDefault(_pt);
var _filterInstanceProperty__default = /*#__PURE__*/_interopDefault(_filterInstanceProperty);
var _sortInstanceProperty__default = /*#__PURE__*/_interopDefault(_sortInstanceProperty);
var _Object$keys__default = /*#__PURE__*/_interopDefault(_Object$keys);
var _mapInstanceProperty__default = /*#__PURE__*/_interopDefault(_mapInstanceProperty);
var _Object$values__default = /*#__PURE__*/_interopDefault(_Object$values);
var _reduceInstanceProperty__default = /*#__PURE__*/_interopDefault(_reduceInstanceProperty);
var MoneyInput__default = /*#__PURE__*/_interopDefault(MoneyInput);
var Stack__default = /*#__PURE__*/_interopDefault(Stack);
var Constraints__default = /*#__PURE__*/_interopDefault(Constraints);

var messages = reactIntl.defineMessages({
  missingRequiredField: {
    id: 'UIKit.LocalizedMoneyInput.missingRequiredField',
    description: 'Error message for missing required value',
    defaultMessage: 'This field is required. Provide at least one value.'
  },
  show: {
    id: 'UIKit.LocalizedMoneyInput.show',
    description: 'Show all currencies button',
    defaultMessage: 'Show all currencies ({remainingCurrencies})'
  },
  hide: {
    id: 'UIKit.LocalizedMoneyInput.hide',
    description: 'Hide currencies button',
    defaultMessage: 'Hide currencies ({remainingCurrencies})'
  }
});

function ownKeys(object, enumerableOnly) { var keys = _Object$keys__default["default"](object); if (_Object$getOwnPropertySymbols__default["default"]) { var symbols = _Object$getOwnPropertySymbols__default["default"](object); enumerableOnly && (symbols = _filterInstanceProperty__default["default"](symbols).call(symbols, function (sym) { return _Object$getOwnPropertyDescriptor__default["default"](object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var _context2, _context3; var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? _forEachInstanceProperty__default["default"](_context2 = ownKeys(Object(source), !0)).call(_context2, function (key) { _defineProperty(target, key, source[key]); }) : _Object$getOwnPropertyDescriptors__default["default"] ? _Object$defineProperties__default["default"](target, _Object$getOwnPropertyDescriptors__default["default"](source)) : _forEachInstanceProperty__default["default"](_context3 = ownKeys(Object(source))).call(_context3, function (key) { _Object$defineProperty__default["default"](target, key, _Object$getOwnPropertyDescriptor__default["default"](source, key)); }); } return target; }
function _EMOTION_STRINGIFIED_CSS_ERROR__() { return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."; }
const sequentialId = utils.createSequentialId('localized-money-input-');

// sorts the currencies with the following priority:
// - The selected currency is placed first (e.g EUR)
// - All other currencies follow, sorted alphabetically as well
const sortCurrencies = (selectedCurrency, allCurrencies) => {
  const remainingCurrencies = _filterInstanceProperty__default["default"](allCurrencies).call(allCurrencies, currency => currency !== selectedCurrency);
  return [selectedCurrency, ..._sortInstanceProperty__default["default"](remainingCurrencies).call(remainingCurrencies)];
};
var _ref = process.env.NODE_ENV === "production" ? {
  name: "1ktetz7",
  styles: "width:100%;position:relative;display:flex"
} : {
  name: "1ysn02y-LocalizedInput",
  styles: "width:100%;position:relative;display:flex;label:LocalizedInput;",
  map: "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvY2FsaXplZC1tb25leS1pbnB1dC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBNE9nQiIsImZpbGUiOiJsb2NhbGl6ZWQtbW9uZXktaW5wdXQudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHR5cGUgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlSW50bCB9IGZyb20gJ3JlYWN0LWludGwnO1xuaW1wb3J0IHsgY3NzIH0gZnJvbSAnQGVtb3Rpb24vcmVhY3QnO1xuaW1wb3J0IHsgdXNlVG9nZ2xlU3RhdGUsIHVzZUZpZWxkSWQgfSBmcm9tICdAY29tbWVyY2V0b29scy11aWtpdC9ob29rcyc7XG5pbXBvcnQgTW9uZXlJbnB1dCwge1xuICB0eXBlIFRDdXJyZW5jeUNvZGUsXG4gIHR5cGUgVE1vbmV5VmFsdWUsXG4gIHR5cGUgVFZhbHVlLFxufSBmcm9tICdAY29tbWVyY2V0b29scy11aWtpdC9tb25leS1pbnB1dCc7XG5pbXBvcnQgU3RhY2sgZnJvbSAnQGNvbW1lcmNldG9vbHMtdWlraXQvc3BhY2luZ3Mtc3RhY2snO1xuaW1wb3J0IENvbnN0cmFpbnRzIGZyb20gJ0Bjb21tZXJjZXRvb2xzLXVpa2l0L2NvbnN0cmFpbnRzJztcbmltcG9ydCB7IENvaW5zSWNvbiB9IGZyb20gJ0Bjb21tZXJjZXRvb2xzLXVpa2l0L2ljb25zJztcbmltcG9ydCB7XG4gIGNyZWF0ZUxvY2FsaXplZERhdGFBdHRyaWJ1dGVzLFxuICBnZXRIYXNFcnJvck9uUmVtYWluaW5nTGFuZ3VhZ2VzLFxuICBnZXRIYXNXYXJuaW5nT25SZW1haW5pbmdMYW5ndWFnZXMsXG4gIGdldElkLFxuICBnZXROYW1lLFxufSBmcm9tICdAY29tbWVyY2V0b29scy11aWtpdC9sb2NhbGl6ZWQtdXRpbHMnO1xuaW1wb3J0IHtcbiAgY3JlYXRlU2VxdWVudGlhbElkLFxuICBmaWx0ZXJEYXRhQXR0cmlidXRlcyxcbiAgd2FybmluZyxcbn0gZnJvbSAnQGNvbW1lcmNldG9vbHMtdWlraXQvdXRpbHMnO1xuaW1wb3J0IHsgTG9jYWxpemVkSW5wdXRUb2dnbGUgfSBmcm9tICdAY29tbWVyY2V0b29scy11aWtpdC9pbnB1dC11dGlscyc7XG5pbXBvcnQgbWVzc2FnZXMgZnJvbSAnLi9tZXNzYWdlcyc7XG5cbnR5cGUgVEN1c3RvbUV2ZW50ID0ge1xuICB0YXJnZXQ6IHtcbiAgICBpZD86IHN0cmluZztcbiAgICBuYW1lPzogc3RyaW5nO1xuICAgIHZhbHVlPzogc3RyaW5nIHwgc3RyaW5nW10gfCBudWxsO1xuICB9O1xuICBwZXJzaXN0PzogKCkgPT4gdm9pZDtcbn07XG5cbmV4cG9ydCB0eXBlIFRMb2NhbGl6ZWRNb25leUlucHV0UHJvcHMgPSB7XG4gIC8qKlxuICAgKiBVc2VkIGFzIEhUTUwgaWQgcHJvcGVydHkuXG4gICAqL1xuICBpZD86IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBwcmVmaXggdXNlZCB0byBjcmVhdGUgYSBIVE1MIGBuYW1lYCBwcm9wZXJ0eSBmb3IgdGhlIGFtb3VudCBpbnB1dCBmaWVsZCAoYCR7bmFtZX0uYW1vdW50YCkuXG4gICAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKipcbiAgICogdmFsdWUgb2YgcG9zc2libGUgY3VycmVuY3lcbiAgICogPGJyLz5cbiAgICogdGhlIGlucHV0IGRvZXNuJ3QgYWNjZXB0IGEgXCJjdXJyZW5jaWVzXCIgcHJvcCwgaW5zdGVhZCBhbGwgcG9zc2libGVcbiAgICogY3VycmVuY2llcyBoYXZlIHRvIGV4aXN0ICh3aXRoIGVtcHR5IG9yIGZpbGxlZCBzdHJpbmdzKSBvbiB0aGUgdmFsdWU6XG4gICAqIHsgRVVSOiB7YW1vdW50OiAnMTIuMDAnLCBjdXJyZW5jeUNvZGU6ICdFVVInfSwgVVNEOiB7YW1vdW50OiAnJywgY3VycmVuY3lDb2RlOiAnVVNEJ319XG4gICAqL1xuICB2YWx1ZTogUmVjb3JkPHN0cmluZywgVFZhbHVlPjtcbiAgLyoqXG4gICAqIENhbGxlZCB3aXRoIHRoZSBldmVudCBvZiB0aGUgaW5wdXQuXG4gICAqL1xuICBvbkNoYW5nZT86IChldmVudDogVEN1c3RvbUV2ZW50KSA9PiB2b2lkO1xuICAvKipcbiAgICogdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBjdXJyZW5jeVxuICAgKi9cbiAgc2VsZWN0ZWRDdXJyZW5jeTogc3RyaW5nO1xuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gaW5wdXQgaXMgYmx1cnJlZFxuICAgKi9cbiAgb25CbHVyPzogKGV2ZW50OiBUQ3VzdG9tRXZlbnQpID0+IHZvaWQ7XG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBpbnB1dCBpcyBmb2N1c2VkXG4gICAqL1xuICBvbkZvY3VzPzogKGV2ZW50OiBUQ3VzdG9tRXZlbnQpID0+IHZvaWQ7XG4gIC8qKlxuICAgKiBXaWxsIGhpZGUgdGhlIGN1cnJlbmN5IGV4cGFuc2lvbiBjb250cm9scyB3aGVuIHNldCB0byBgdHJ1ZWAuIEFsbCBjdXJyZW5jaWVzIHdpbGwgYmUgc2hvd24gd2hlbiBzZXQgdG8gYHRydWVgLlxuICAgKi9cbiAgaGlkZUN1cnJlbmN5RXhwYW5zaW9uQ29udHJvbHM/OiBib29sZWFuO1xuICAvKipcbiAgICogQ29udHJvbHMgd2hldGhlciBvbmUgb3IgYWxsIGN1cnJlbmNpcnMgYXJlIHZpc2libGUgYnkgZGVmYXVsdFxuICAgKi9cbiAgZGVmYXVsdEV4cGFuZEN1cnJlbmNpZXM/OiBib29sZWFuO1xuICAvKipcbiAgICogSW5kaWNhdGVzIHRoYXQgdGhlIGlucHV0IGNhbm5vdCBiZSBtb2RpZmllZCAoZS5nIG5vdCBhdXRob3JpemVkLCBvciBjaGFuZ2VzIGN1cnJlbnRseSBzYXZpbmcpLlxuICAgKi9cbiAgaXNEaXNhYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgdGhhdCB0aGUgZmllbGQgaXMgZGlzcGxheWluZyByZWFkLW9ubHkgY29udGVudFxuICAgKi9cbiAgaXNSZWFkT25seT86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBQbGFjZWhvbGRlciB0ZXh0IGZvciB0aGUgaW5wdXRcbiAgICovXG4gIHBsYWNlaG9sZGVyPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgLyoqXG4gICAqIEhvcml6b250YWwgc2l6ZSBsaW1pdCBvZiB0aGUgaW5wdXQgZmllbGRzLlxuICAgKi9cbiAgaG9yaXpvbnRhbENvbnN0cmFpbnQ/OlxuICAgIHwgM1xuICAgIHwgNFxuICAgIHwgNVxuICAgIHwgNlxuICAgIHwgN1xuICAgIHwgOFxuICAgIHwgOVxuICAgIHwgMTBcbiAgICB8IDExXG4gICAgfCAxMlxuICAgIHwgMTNcbiAgICB8IDE0XG4gICAgfCAxNVxuICAgIHwgMTZcbiAgICB8ICdzY2FsZSdcbiAgICB8ICdhdXRvJztcbiAgLyoqXG4gICAqIEluZGljYXRlcyB0aGF0IGlucHV0IGhhcyBlcnJvcnNcbiAgICovXG4gIGhhc0Vycm9yPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIENvbnRyb2wgdG8gaW5kaWNhdGUgb24gdGhlIGlucHV0IGlmIHRoZXJlIGFyZSB2YWx1ZXMgdGhhdCBhcmUgcG90ZW50aWFsbHkgaW52YWxpZFxuICAgKi9cbiAgaGFzV2FybmluZz86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBBIG1hcCBvZiBlcnJvcnMuIEVycm9yIG1lc3NhZ2VzIGZvciBrbm93biBlcnJvcnMgYXJlIHJlbmRlcmVkIGF1dG9tYXRpY2FsbHkuXG4gICAqIDxicj5cbiAgICogVW5rbm93biBlcnJvcnMgd2lsbCBiZSBmb3J3YXJkZWQgdG8gYHJlbmRlckVycm9yYFxuICAgKi9cbiAgZXJyb3JzPzogUmVjb3JkPHN0cmluZywgUmVhY3ROb2RlPjtcbiAgLyoqXG4gICAqIEEgbWFwIG9mIHdhcm5pbmdzLlxuICAgKi9cbiAgd2FybmluZ3M/OiBSZWNvcmQ8c3RyaW5nLCBSZWFjdE5vZGU+O1xuICAvKipcbiAgICogU2hvd3MgaGlnaCBwcmVjaXNpb24gYmFkZ2UgaW4gY2FzZSBjdXJyZW50IHZhbHVlIHVzZXMgaGlnaCBwcmVjaXNpb24uXG4gICAqL1xuICBoYXNIaWdoUHJlY2lzaW9uQmFkZ2U/OiBib29sZWFuO1xufTtcblxudHlwZSBUTG9jYWxpemVkSW5wdXRQcm9wcyA9IHtcbiAgLyoqXG4gICAqIFVzZWQgYXMgSFRNTCBpZCBwcm9wZXJ0eS5cbiAgICovXG4gIGlkPzogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHByZWZpeCB1c2VkIHRvIGNyZWF0ZSBhIEhUTUwgYG5hbWVgIHByb3BlcnR5IGZvciB0aGUgYW1vdW50IGlucHV0IGZpZWxkIChgJHtuYW1lfS5hbW91bnRgKS5cbiAgICovXG4gIG5hbWU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiB2YWx1ZSBvZiBwb3NzaWJsZSBjdXJyZW5jeVxuICAgKi9cbiAgdmFsdWU6IFRWYWx1ZTtcbiAgLyoqXG4gICAqIENhbGxlZCB3aXRoIHRoZSBldmVudCBvZiB0aGUgaW5wdXQuXG4gICAqL1xuICBvbkNoYW5nZT86IChldmVudDogVEN1c3RvbUV2ZW50KSA9PiB2b2lkO1xuICAvKipcbiAgICogQ2FsbGVkIHdpdGggdGhlIGV2ZW50IG9mIHRoZSBpbnB1dC5cbiAgICovXG4gIGN1cnJlbmN5OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBpbnB1dCBpcyBibHVycmVkXG4gICAqL1xuICBvbkJsdXI/OiAoZXZlbnQ6IFRDdXN0b21FdmVudCkgPT4gdm9pZDtcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGlucHV0IGlzIGZvY3VzZWRcbiAgICovXG4gIG9uRm9jdXM/OiAoZXZlbnQ6IFRDdXN0b21FdmVudCkgPT4gdm9pZDtcbiAgLyoqXG4gICAqIEluZGljYXRlcyB0aGF0IHRoZSBpbnB1dCBjYW5ub3QgYmUgbW9kaWZpZWQgKGUuZyBub3QgYXV0aG9yaXplZCwgb3IgY2hhbmdlcyBjdXJyZW50bHkgc2F2aW5nKS5cbiAgICovXG4gIGlzRGlzYWJsZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICogSW5kaWNhdGVzIHRoYXQgdGhlIGZpZWxkIGlzIGRpc3BsYXlpbmcgcmVhZC1vbmx5IGNvbnRlbnRcbiAgICovXG4gIGlzUmVhZE9ubHk/OiBib29sZWFuO1xuICAvKipcbiAgICogSW5kaWNhdGVzIHRoYXQgaW5wdXQgaGFzIGVycm9yc1xuICAgKi9cbiAgaGFzRXJyb3I/OiBib29sZWFuO1xuICAvKipcbiAgICogQ29udHJvbCB0byBpbmRpY2F0ZSBvbiB0aGUgaW5wdXQgaWYgdGhlcmUgYXJlIHZhbHVlcyB0aGF0IGFyZSBwb3RlbnRpYWxseSBpbnZhbGlkXG4gICAqL1xuICBoYXNXYXJuaW5nPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFBsYWNlaG9sZGVyIHRleHQgZm9yIHRoZSBpbnB1dFxuICAgKi9cbiAgcGxhY2Vob2xkZXI/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBBIG1hcCBvZiBlcnJvcnMuIEVycm9yIG1lc3NhZ2VzIGZvciBrbm93biBlcnJvcnMgYXJlIHJlbmRlcmVkIGF1dG9tYXRpY2FsbHkuXG4gICAqIDxicj5cbiAgICogVW5rbm93biBlcnJvcnMgd2lsbCBiZSBmb3J3YXJkZWQgdG8gYHJlbmRlckVycm9yYFxuICAgKi9cbiAgZXJyb3I/OiBSZWFjdE5vZGU7XG4gIC8qKlxuICAgKiBIVE1MIG5vZGUgdG8gZGlzcGxheSB3YXJuaW5nXG4gICAqL1xuICB3YXJuaW5nPzogUmVhY3ROb2RlO1xuICAvKipcbiAgICogU2hvd3MgaGlnaCBwcmVjaXNpb24gYmFkZ2UgaW4gY2FzZSBjdXJyZW50IHZhbHVlIHVzZXMgaGlnaCBwcmVjaXNpb24uXG4gICAqL1xuICBoYXNIaWdoUHJlY2lzaW9uQmFkZ2U/OiBib29sZWFuO1xufTtcblxuY29uc3Qgc2VxdWVudGlhbElkID0gY3JlYXRlU2VxdWVudGlhbElkKCdsb2NhbGl6ZWQtbW9uZXktaW5wdXQtJyk7XG5cbi8vIHNvcnRzIHRoZSBjdXJyZW5jaWVzIHdpdGggdGhlIGZvbGxvd2luZyBwcmlvcml0eTpcbi8vIC0gVGhlIHNlbGVjdGVkIGN1cnJlbmN5IGlzIHBsYWNlZCBmaXJzdCAoZS5nIEVVUilcbi8vIC0gQWxsIG90aGVyIGN1cnJlbmNpZXMgZm9sbG93LCBzb3J0ZWQgYWxwaGFiZXRpY2FsbHkgYXMgd2VsbFxuZXhwb3J0IGNvbnN0IHNvcnRDdXJyZW5jaWVzID0gKFxuICBzZWxlY3RlZEN1cnJlbmN5OiBzdHJpbmcsXG4gIGFsbEN1cnJlbmNpZXM6IHN0cmluZ1tdXG4pID0+IHtcbiAgY29uc3QgcmVtYWluaW5nQ3VycmVuY2llcyA9IGFsbEN1cnJlbmNpZXMuZmlsdGVyKFxuICAgIChjdXJyZW5jeSkgPT4gY3VycmVuY3kgIT09IHNlbGVjdGVkQ3VycmVuY3lcbiAgKTtcbiAgcmV0dXJuIFtzZWxlY3RlZEN1cnJlbmN5LCAuLi5yZW1haW5pbmdDdXJyZW5jaWVzLnNvcnQoKV07XG59O1xuXG5jb25zdCBMb2NhbGl6ZWRJbnB1dCA9IChwcm9wczogVExvY2FsaXplZElucHV0UHJvcHMpID0+IHtcbiAgY29uc3QgeyBvbkNoYW5nZSB9ID0gcHJvcHM7XG4gIGNvbnN0IGhhbmRsZUNoYW5nZSA9IHVzZUNhbGxiYWNrKFxuICAgIChldmVudCkgPT4ge1xuICAgICAgLy8gV2UgbWFuaXB1bGF0ZSB0aGUgZXZlbnQgdG8gYWRkIHRoZSBjdXJyZW5jeSB0byB0aGUgdGFyZ2V0LlxuICAgICAgLy8gVGhhdCB3YXkgdGhlIHVzZXJzICBjYW4gcmVhZFxuICAgICAgLy8gZXZlbnQudGFyZ2V0LmN1cnJlbmN5IGFuZCBldmVudC50YXJnZXQudmFsdWUgdG8gZGV0ZXJtaW5lIHRoZSBuZXh0IHZhbHVlLlxuICAgICAgLy9cbiAgICAgIC8vIFdlIG9ubHkgbmVlZCB0aGlzIGluZm9ybWF0aW9uIGZvciB0aGUgc3RvcnksIHRoZSBNQyBhcHBsaWNhdGlvbiBjb2RlIHdpbGxcbiAgICAgIC8vIG5ldmVyIG5lZWQgdG8gYWNjZXNzIHRoZSBpbmZvcm1hdGlvbiBpbiBzdWNoIGFuIGluY29udmVuaWVudCB3YXksIGFzXG4gICAgICAvLyBGb3JtaWsgY2FuIGRlYWwgd2l0aCBhIG5hbWUgbGlrZSBcImZvby5lblwiIGFuZCBzZXRzIHRoZSB2YWx1ZSBjb3JyZWN0bHkuXG4gICAgICAvLyBXZSBjYW4ndCB1c2UgdGhpcyBhcyB3ZSBhcmVuJ3QgZ3VhcmFudGVlZCBhIG5hbWUgaW4gdGhlIHN0b3J5IGFzIHRoZSB1c2VyXG4gICAgICAvLyBtaWdodCBjbGVhciBpdCB1c2luZyB0aGUga25vYiwgYW5kIHRoZW4gd2UgY2FuJ3QgcGFyc2UgdGhlIGN1cnJlbmN5IGZyb21cbiAgICAgIC8vIHRoZSBpbnB1dCBuYW1lIGFueW1vcmUuXG4gICAgICAvL1xuICAgICAgZXZlbnQudGFyZ2V0LmN1cnJlbmN5ID0gcHJvcHMuY3VycmVuY3k7XG4gICAgICBvbkNoYW5nZT8uKGV2ZW50KTtcbiAgICB9LFxuICAgIFtwcm9wcy5jdXJyZW5jeSwgb25DaGFuZ2VdXG4gICk7XG4gIHJldHVybiAoXG4gICAgPFN0YWNrIHNjYWxlPVwieHNcIj5cbiAgICAgIDxkaXZcbiAgICAgICAgY3NzPXtjc3NgXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGB9XG4gICAgICA+XG4gICAgICAgIDxNb25leUlucHV0XG4gICAgICAgICAgbmFtZT17cHJvcHMubmFtZX1cbiAgICAgICAgICB2YWx1ZT17cHJvcHMudmFsdWV9XG4gICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cbiAgICAgICAgICBvbkJsdXI9e3Byb3BzLm9uQmx1cn1cbiAgICAgICAgICBpc0Rpc2FibGVkPXtwcm9wcy5pc0Rpc2FibGVkfVxuICAgICAgICAgIGlzUmVhZE9ubHk9e3Byb3BzLmlzUmVhZE9ubHl9XG4gICAgICAgICAgcGxhY2Vob2xkZXI9e3Byb3BzLnBsYWNlaG9sZGVyfVxuICAgICAgICAgIGhhc0Vycm9yPXtwcm9wcy5oYXNFcnJvcn1cbiAgICAgICAgICBoYXNXYXJuaW5nPXtwcm9wcy5oYXNXYXJuaW5nfVxuICAgICAgICAgIGhhc0hpZ2hQcmVjaXNpb25CYWRnZT17cHJvcHMuaGFzSGlnaFByZWNpc2lvbkJhZGdlfVxuICAgICAgICAgIHsuLi5maWx0ZXJEYXRhQXR0cmlidXRlcyhwcm9wcyl9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIHsocHJvcHMuZXJyb3IgfHwgcHJvcHMud2FybmluZykgJiYgKFxuICAgICAgICA8ZGl2Pntwcm9wcy5lcnJvciA/IHByb3BzLmVycm9yIDogcHJvcHMud2FybmluZ308L2Rpdj5cbiAgICAgICl9XG4gICAgPC9TdGFjaz5cbiAgKTtcbn07XG5cbkxvY2FsaXplZElucHV0LmRpc3BsYXlOYW1lID0gJ0xvY2FsaXplZElucHV0JztcblxuY29uc3QgTG9jYWxpemVkTW9uZXlJbnB1dCA9IChwcm9wczogVExvY2FsaXplZE1vbmV5SW5wdXRQcm9wcykgPT4ge1xuICBjb25zdCBpbnRsID0gdXNlSW50bCgpO1xuXG4gIGNvbnN0IGRlZmF1bHRFeHBhbnNpb25TdGF0ZSA9XG4gICAgcHJvcHMuaGlkZUN1cnJlbmN5RXhwYW5zaW9uQ29udHJvbHMgfHxcbiAgICBwcm9wcy5kZWZhdWx0RXhwYW5kQ3VycmVuY2llcyB8fFxuICAgIC8vIGRlZmF1bHQgdG8gYGZhbHNlYCwgYmVjYXVzZSB1c2VUb2dnbGVTdGF0ZSBkZWZhdWx0cyB0byBgdHJ1ZWBcbiAgICBmYWxzZTtcblxuICBjb25zdCBbYXJlQ3VycmVuY2llc0V4cGFuZGVkLCB0b2dnbGVDdXJyZW5jaWVzXSA9IHVzZVRvZ2dsZVN0YXRlKFxuICAgIGRlZmF1bHRFeHBhbnNpb25TdGF0ZVxuICApO1xuXG4gIGNvbnN0IG9uTG9jYWxpemVkTW9uZXlJbnB1dFRvZ2dsZSA9IHVzZUNhbGxiYWNrKFxuICAgICgpID0+IHRvZ2dsZUN1cnJlbmNpZXMoKSxcbiAgICBbdG9nZ2xlQ3VycmVuY2llc11cbiAgKTtcblxuICBjb25zdCBpZCA9IHVzZUZpZWxkSWQocHJvcHMuaWQsIHNlcXVlbnRpYWxJZCk7XG5cbiAgY29uc3QgaGFzRXJyb3JJblJlbWFpbmluZ0N1cnJlbmNpZXMgPVxuICAgIHByb3BzLmhhc0Vycm9yIHx8XG4gICAgZ2V0SGFzRXJyb3JPblJlbWFpbmluZ0xhbmd1YWdlcyhwcm9wcy5lcnJvcnMsIHByb3BzLnNlbGVjdGVkQ3VycmVuY3kpO1xuXG4gIGNvbnN0IGhhc1dhcm5pbmdJblJlbWFpbmluZ0N1cnJlbmNpZXMgPVxuICAgIHByb3BzLmhhc1dhcm5pbmcgfHxcbiAgICBnZXRIYXNXYXJuaW5nT25SZW1haW5pbmdMYW5ndWFnZXMocHJvcHMud2FybmluZ3MsIHByb3BzLnNlbGVjdGVkQ3VycmVuY3kpO1xuXG4gIGlmIChoYXNFcnJvckluUmVtYWluaW5nQ3VycmVuY2llcyB8fCBoYXNXYXJuaW5nSW5SZW1haW5pbmdDdXJyZW5jaWVzKSB7XG4gICAgLy8gdGhpcyB1cGRhdGUgd2l0aGluIHJlbmRlciByZXBsYWNlcyB0aGUgb2xkIGBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHNgIGZ1bmN0aW9uYWxpdHlcbiAgICAvLyBodHRwczovL3JlYWN0anMub3JnL2RvY3MvaG9va3MtZmFxLmh0bWwjaG93LWRvLWktaW1wbGVtZW50LWdldGRlcml2ZWRzdGF0ZWZyb21wcm9wc1xuICAgIGlmICghYXJlQ3VycmVuY2llc0V4cGFuZGVkKSB7XG4gICAgICB0b2dnbGVDdXJyZW5jaWVzKCk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgY3VycmVuY2llcyA9IHNvcnRDdXJyZW5jaWVzKFxuICAgIHByb3BzLnNlbGVjdGVkQ3VycmVuY3ksXG4gICAgT2JqZWN0LmtleXMocHJvcHMudmFsdWUpXG4gICk7XG5cbiAgY29uc3Qgc2hvdWxkUmVuZGVyQ3VycmVuY3lDb250cm9sID1cbiAgICBjdXJyZW5jaWVzLmxlbmd0aCA+IDEgJiYgIXByb3BzLmhpZGVDdXJyZW5jeUV4cGFuc2lvbkNvbnRyb2xzO1xuXG4gIGlmIChwcm9wcy5oaWRlQ3VycmVuY3lFeHBhbnNpb25Db250cm9scykge1xuICAgIHdhcm5pbmcoXG4gICAgICB0eXBlb2YgcHJvcHMuZGVmYXVsdEV4cGFuZEN1cnJlbmNpZXMgIT09ICdib29sZWFuJyxcbiAgICAgICdMb2NhbGl6ZWRNb25leUlucHV0OiBcImRlZmF1bHRFeHBhbmRDdXJyZW5jaWVzXCIgZG9lcyBub3QgaGF2ZSBhbnkgZWZmZWN0IHdoZW4gXCJoaWRlQ3VycmVuY3lFeHBhbnNpb25Db250cm9sc1wiIGlzIHNldC4nXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPENvbnN0cmFpbnRzLkhvcml6b250YWwgbWF4PXtwcm9wcy5ob3Jpem9udGFsQ29uc3RyYWludH0+XG4gICAgICA8U3RhY2sgc2NhbGU9XCJ4c1wiPlxuICAgICAgICA8U3RhY2sgc2NhbGU9XCJzXCI+XG4gICAgICAgICAge2N1cnJlbmNpZXMubWFwKChjdXJyZW5jeSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlzRmlyc3RDdXJyZW5jeSA9IGluZGV4ID09PSAwO1xuICAgICAgICAgICAgaWYgKCFpc0ZpcnN0Q3VycmVuY3kgJiYgIWFyZUN1cnJlbmNpZXNFeHBhbmRlZCkgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxMb2NhbGl6ZWRJbnB1dFxuICAgICAgICAgICAgICAgIGtleT17Y3VycmVuY3l9XG4gICAgICAgICAgICAgICAgaWQ9e0xvY2FsaXplZE1vbmV5SW5wdXQuZ2V0SWQoaWQsIGN1cnJlbmN5KX1cbiAgICAgICAgICAgICAgICBuYW1lPXtMb2NhbGl6ZWRNb25leUlucHV0LmdldE5hbWUocHJvcHMubmFtZSwgY3VycmVuY3kpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXtwcm9wcy52YWx1ZVtjdXJyZW5jeV19XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3Byb3BzLm9uQ2hhbmdlfVxuICAgICAgICAgICAgICAgIGN1cnJlbmN5PXtjdXJyZW5jeX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17XG4gICAgICAgICAgICAgICAgICBwcm9wcy5wbGFjZWhvbGRlciA/IHByb3BzLnBsYWNlaG9sZGVyW2N1cnJlbmN5XSA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvbkJsdXI9e3Byb3BzLm9uQmx1cn1cbiAgICAgICAgICAgICAgICBvbkZvY3VzPXtwcm9wcy5vbkZvY3VzfVxuICAgICAgICAgICAgICAgIGlzRGlzYWJsZWQ9e3Byb3BzLmlzRGlzYWJsZWR9XG4gICAgICAgICAgICAgICAgaXNSZWFkT25seT17cHJvcHMuaXNSZWFkT25seX1cbiAgICAgICAgICAgICAgICBoYXNFcnJvcj17Qm9vbGVhbihcbiAgICAgICAgICAgICAgICAgIHByb3BzLmhhc0Vycm9yIHx8IChwcm9wcy5lcnJvcnMgJiYgcHJvcHMuZXJyb3JzW2N1cnJlbmN5XSlcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIGhhc1dhcm5pbmc9e0Jvb2xlYW4oXG4gICAgICAgICAgICAgICAgICBwcm9wcy5oYXNXYXJuaW5nIHx8XG4gICAgICAgICAgICAgICAgICAgIChwcm9wcy53YXJuaW5ncyAmJiBwcm9wcy53YXJuaW5nc1tjdXJyZW5jeV0pXG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB3YXJuaW5nPXtwcm9wcy53YXJuaW5ncyAmJiBwcm9wcy53YXJuaW5nc1tjdXJyZW5jeV19XG4gICAgICAgICAgICAgICAgZXJyb3I9e3Byb3BzLmVycm9ycyAmJiBwcm9wcy5lcnJvcnNbY3VycmVuY3ldfVxuICAgICAgICAgICAgICAgIHsuLi5jcmVhdGVMb2NhbGl6ZWREYXRhQXR0cmlidXRlcyhwcm9wcywgY3VycmVuY3kpfVxuICAgICAgICAgICAgICAgIGhhc0hpZ2hQcmVjaXNpb25CYWRnZT17cHJvcHMuaGFzSGlnaFByZWNpc2lvbkJhZGdlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9TdGFjaz5cbiAgICAgICAge3Nob3VsZFJlbmRlckN1cnJlbmN5Q29udHJvbCAmJiAoXG4gICAgICAgICAgPExvY2FsaXplZElucHV0VG9nZ2xlXG4gICAgICAgICAgICBpY29uPXs8Q29pbnNJY29uIC8+fVxuICAgICAgICAgICAgb25DbGljaz17b25Mb2NhbGl6ZWRNb25leUlucHV0VG9nZ2xlfVxuICAgICAgICAgICAgaXNPcGVuPXthcmVDdXJyZW5jaWVzRXhwYW5kZWR9XG4gICAgICAgICAgICBpc0Rpc2FibGVkPXtcbiAgICAgICAgICAgICAgYXJlQ3VycmVuY2llc0V4cGFuZGVkICYmXG4gICAgICAgICAgICAgIEJvb2xlYW4oXG4gICAgICAgICAgICAgICAgaGFzRXJyb3JJblJlbWFpbmluZ0N1cnJlbmNpZXMgfHwgaGFzV2FybmluZ0luUmVtYWluaW5nQ3VycmVuY2llc1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaG93TWVzc2FnZT17aW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLnNob3csIHtcbiAgICAgICAgICAgICAgcmVtYWluaW5nQ3VycmVuY2llczogY3VycmVuY2llcy5sZW5ndGggLSAxLFxuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICBoaWRlTWVzc2FnZT17aW50bC5mb3JtYXRNZXNzYWdlKG1lc3NhZ2VzLmhpZGUsIHtcbiAgICAgICAgICAgICAgcmVtYWluaW5nQ3VycmVuY2llczogY3VycmVuY2llcy5sZW5ndGggLSAxLFxuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgIDwvU3RhY2s+XG4gICAgPC9Db25zdHJhaW50cy5Ib3Jpem9udGFsPlxuICApO1xufTtcblxuTG9jYWxpemVkTW9uZXlJbnB1dC5kaXNwbGF5TmFtZSA9ICdMb2NhbGl6ZWRNb25leUlucHV0JztcblxuTG9jYWxpemVkTW9uZXlJbnB1dC5nZXRJZCA9IGdldElkO1xuXG5Mb2NhbGl6ZWRNb25leUlucHV0LmdldE5hbWUgPSBnZXROYW1lO1xuXG5Mb2NhbGl6ZWRNb25leUlucHV0LmRlZmF1bHRQcm9wcyA9IHtcbiAgaG9yaXpvbnRhbENvbnN0cmFpbnQ6ICdzY2FsZScsXG59O1xuXG5Mb2NhbGl6ZWRNb25leUlucHV0LmNvbnZlcnRUb01vbmV5VmFsdWVzID0gKFxuICB2YWx1ZXM6IFRWYWx1ZVtdLFxuICBsb2NhbGU6IHN0cmluZ1xuKTogQXJyYXk8VE1vbmV5VmFsdWUgfCBudWxsPiA9PlxuICBPYmplY3QudmFsdWVzKHZhbHVlcykubWFwPFRNb25leVZhbHVlIHwgbnVsbD4oKHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuIE1vbmV5SW5wdXQuY29udmVydFRvTW9uZXlWYWx1ZSh2YWx1ZSwgbG9jYWxlKTtcbiAgfSk7XG5cbkxvY2FsaXplZE1vbmV5SW5wdXQucGFyc2VNb25leVZhbHVlcyA9IChcbiAgbW9uZXlWYWx1ZXM6IFRNb25leVZhbHVlW10gPSBbXSxcbiAgbG9jYWxlOiBzdHJpbmdcbik6IFJlY29yZDxUQ3VycmVuY3lDb2RlLCBUVmFsdWU+ID0+XG4gIG1vbmV5VmFsdWVzLnJlZHVjZTxSZWNvcmQ8VEN1cnJlbmN5Q29kZSwgVFZhbHVlPj4oKGFsbFZhbHVlcywgbW9uZXlWYWx1ZSkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gTW9uZXlJbnB1dC5wYXJzZU1vbmV5VmFsdWUobW9uZXlWYWx1ZSwgbG9jYWxlKTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uYWxsVmFsdWVzLFxuICAgICAgW3ZhbHVlLmN1cnJlbmN5Q29kZV06IHZhbHVlLFxuICAgIH07XG4gIH0sIHt9IGFzIFJlY29yZDxUQ3VycmVuY3lDb2RlLCBUVmFsdWU+KTtcblxuTG9jYWxpemVkTW9uZXlJbnB1dC5nZXRIaWdoUHJlY2lzaW9uQ3VycmVuY2llcyA9IChcbiAgdmFsdWVzOiBSZWNvcmQ8VEN1cnJlbmN5Q29kZSwgVFZhbHVlPixcbiAgbG9jYWxlOiBzdHJpbmdcbik6IFRDdXJyZW5jeUNvZGVbXSA9PiB7XG4gIGNvbnN0IHR5cGVkQ3VycmVuY3lDb2RlcyA9IE9iamVjdC5rZXlzKHZhbHVlcykgYXMgVEN1cnJlbmN5Q29kZVtdO1xuICByZXR1cm4gdHlwZWRDdXJyZW5jeUNvZGVzLmZpbHRlcigoY3VycmVuY3lDb2RlKSA9PlxuICAgIE1vbmV5SW5wdXQuaXNIaWdoUHJlY2lzaW9uKHZhbHVlc1tjdXJyZW5jeUNvZGVdLCBsb2NhbGUpXG4gICk7XG59O1xuXG5Mb2NhbGl6ZWRNb25leUlucHV0LmdldEVtcHR5Q3VycmVuY2llcyA9IChcbiAgdmFsdWVzOiBSZWNvcmQ8VEN1cnJlbmN5Q29kZSwgVFZhbHVlPlxuKTogVEN1cnJlbmN5Q29kZVtdID0+IHtcbiAgY29uc3QgdHlwZWRDdXJyZW5jeUNvZGVzID0gT2JqZWN0LmtleXModmFsdWVzKSBhcyBUQ3VycmVuY3lDb2RlW107XG4gIHJldHVybiB0eXBlZEN1cnJlbmN5Q29kZXMuZmlsdGVyKChjdXJyZW5jeUNvZGUpID0+XG4gICAgTW9uZXlJbnB1dC5pc0VtcHR5KHZhbHVlc1tjdXJyZW5jeUNvZGVdKVxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTG9jYWxpemVkTW9uZXlJbnB1dDtcbiJdfQ== */",
  toString: _EMOTION_STRINGIFIED_CSS_ERROR__
};
const LocalizedInput = props => {
  const onChange = props.onChange;
  const handleChange = react.useCallback(event => {
    // We manipulate the event to add the currency to the target.
    // That way the users  can read
    // event.target.currency and event.target.value to determine the next value.
    //
    // We only need this information for the story, the MC application code will
    // never need to access the information in such an inconvenient way, as
    // Formik can deal with a name like "foo.en" and sets the value correctly.
    // We can't use this as we aren't guaranteed a name in the story as the user
    // might clear it using the knob, and then we can't parse the currency from
    // the input name anymore.
    //
    event.target.currency = props.currency;
    onChange === null || onChange === void 0 ? void 0 : onChange(event);
  }, [props.currency, onChange]);
  return jsxRuntime.jsxs(Stack__default["default"], {
    scale: "xs",
    children: [jsxRuntime.jsx("div", {
      css: _ref,
      children: jsxRuntime.jsx(MoneyInput__default["default"], _objectSpread({
        name: props.name,
        value: props.value,
        onChange: handleChange,
        onBlur: props.onBlur,
        isDisabled: props.isDisabled,
        isReadOnly: props.isReadOnly,
        placeholder: props.placeholder,
        hasError: props.hasError,
        hasWarning: props.hasWarning,
        hasHighPrecisionBadge: props.hasHighPrecisionBadge
      }, utils.filterDataAttributes(props)))
    }), (props.error || props.warning) && jsxRuntime.jsx("div", {
      children: props.error ? props.error : props.warning
    })]
  });
};
LocalizedInput.propTypes = process.env.NODE_ENV !== "production" ? {
  id: _pt__default["default"].string,
  name: _pt__default["default"].string,
  value: _pt__default["default"].any.isRequired,
  onChange: _pt__default["default"].func,
  currency: _pt__default["default"].string.isRequired,
  onBlur: _pt__default["default"].func,
  onFocus: _pt__default["default"].func,
  isDisabled: _pt__default["default"].bool,
  isReadOnly: _pt__default["default"].bool,
  hasError: _pt__default["default"].bool,
  hasWarning: _pt__default["default"].bool,
  placeholder: _pt__default["default"].string,
  error: _pt__default["default"].node,
  warning: _pt__default["default"].node,
  hasHighPrecisionBadge: _pt__default["default"].bool
} : {};
LocalizedInput.displayName = 'LocalizedInput';
const LocalizedMoneyInput = props => {
  const intl = reactIntl.useIntl();
  const defaultExpansionState = props.hideCurrencyExpansionControls || props.defaultExpandCurrencies ||
  // default to `false`, because useToggleState defaults to `true`
  false;
  const _useToggleState = hooks.useToggleState(defaultExpansionState),
    _useToggleState2 = _slicedToArray(_useToggleState, 2),
    areCurrenciesExpanded = _useToggleState2[0],
    toggleCurrencies = _useToggleState2[1];
  const onLocalizedMoneyInputToggle = react.useCallback(() => toggleCurrencies(), [toggleCurrencies]);
  const id = hooks.useFieldId(props.id, sequentialId);
  const hasErrorInRemainingCurrencies = props.hasError || localizedUtils.getHasErrorOnRemainingLanguages(props.errors, props.selectedCurrency);
  const hasWarningInRemainingCurrencies = props.hasWarning || localizedUtils.getHasWarningOnRemainingLanguages(props.warnings, props.selectedCurrency);
  if (hasErrorInRemainingCurrencies || hasWarningInRemainingCurrencies) {
    // this update within render replaces the old `getDerivedStateFromProps` functionality
    // https://reactjs.org/docs/hooks-faq.html#how-do-i-implement-getderivedstatefromprops
    if (!areCurrenciesExpanded) {
      toggleCurrencies();
    }
  }
  const currencies = sortCurrencies(props.selectedCurrency, _Object$keys__default["default"](props.value));
  const shouldRenderCurrencyControl = currencies.length > 1 && !props.hideCurrencyExpansionControls;
  if (props.hideCurrencyExpansionControls) {
    process.env.NODE_ENV !== "production" ? utils.warning(typeof props.defaultExpandCurrencies !== 'boolean', 'LocalizedMoneyInput: "defaultExpandCurrencies" does not have any effect when "hideCurrencyExpansionControls" is set.') : void 0;
  }
  return jsxRuntime.jsx(Constraints__default["default"].Horizontal, {
    max: props.horizontalConstraint,
    children: jsxRuntime.jsxs(Stack__default["default"], {
      scale: "xs",
      children: [jsxRuntime.jsx(Stack__default["default"], {
        scale: "s",
        children: _mapInstanceProperty__default["default"](currencies).call(currencies, (currency, index) => {
          const isFirstCurrency = index === 0;
          if (!isFirstCurrency && !areCurrenciesExpanded) return null;
          return jsxRuntime.jsx(LocalizedInput, _objectSpread(_objectSpread({
            id: LocalizedMoneyInput.getId(id, currency),
            name: LocalizedMoneyInput.getName(props.name, currency),
            value: props.value[currency],
            onChange: props.onChange,
            currency: currency,
            placeholder: props.placeholder ? props.placeholder[currency] : undefined,
            onBlur: props.onBlur,
            onFocus: props.onFocus,
            isDisabled: props.isDisabled,
            isReadOnly: props.isReadOnly,
            hasError: Boolean(props.hasError || props.errors && props.errors[currency]),
            hasWarning: Boolean(props.hasWarning || props.warnings && props.warnings[currency]),
            warning: props.warnings && props.warnings[currency],
            error: props.errors && props.errors[currency]
          }, localizedUtils.createLocalizedDataAttributes(props, currency)), {}, {
            hasHighPrecisionBadge: props.hasHighPrecisionBadge
          }), currency);
        })
      }), shouldRenderCurrencyControl && jsxRuntime.jsx(inputUtils.LocalizedInputToggle, {
        icon: jsxRuntime.jsx(icons.CoinsIcon, {}),
        onClick: onLocalizedMoneyInputToggle,
        isOpen: areCurrenciesExpanded,
        isDisabled: areCurrenciesExpanded && Boolean(hasErrorInRemainingCurrencies || hasWarningInRemainingCurrencies),
        showMessage: intl.formatMessage(messages.show, {
          remainingCurrencies: currencies.length - 1
        }),
        hideMessage: intl.formatMessage(messages.hide, {
          remainingCurrencies: currencies.length - 1
        })
      })]
    })
  });
};
LocalizedMoneyInput.propTypes = process.env.NODE_ENV !== "production" ? {
  id: _pt__default["default"].string,
  name: _pt__default["default"].string,
  value: _pt__default["default"].objectOf(_pt__default["default"].any).isRequired,
  onChange: _pt__default["default"].func,
  selectedCurrency: _pt__default["default"].string.isRequired,
  onBlur: _pt__default["default"].func,
  onFocus: _pt__default["default"].func,
  hideCurrencyExpansionControls: _pt__default["default"].bool,
  defaultExpandCurrencies: _pt__default["default"].bool,
  isDisabled: _pt__default["default"].bool,
  isReadOnly: _pt__default["default"].bool,
  placeholder: _pt__default["default"].objectOf(_pt__default["default"].string),
  horizontalConstraint: _pt__default["default"].oneOf([3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 'scale', 'auto']),
  hasError: _pt__default["default"].bool,
  hasWarning: _pt__default["default"].bool,
  errors: _pt__default["default"].objectOf(_pt__default["default"].node),
  warnings: _pt__default["default"].objectOf(_pt__default["default"].node),
  hasHighPrecisionBadge: _pt__default["default"].bool
} : {};
LocalizedMoneyInput.displayName = 'LocalizedMoneyInput';
LocalizedMoneyInput.getId = localizedUtils.getId;
LocalizedMoneyInput.getName = localizedUtils.getName;
LocalizedMoneyInput.defaultProps = {
  horizontalConstraint: 'scale'
};
LocalizedMoneyInput.convertToMoneyValues = (values, locale) => {
  var _context;
  return _mapInstanceProperty__default["default"](_context = _Object$values__default["default"](values)).call(_context, value => {
    return MoneyInput__default["default"].convertToMoneyValue(value, locale);
  });
};
LocalizedMoneyInput.parseMoneyValues = function () {
  let moneyValues = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  let locale = arguments.length > 1 ? arguments[1] : undefined;
  return _reduceInstanceProperty__default["default"](moneyValues).call(moneyValues, (allValues, moneyValue) => {
    const value = MoneyInput__default["default"].parseMoneyValue(moneyValue, locale);
    return _objectSpread(_objectSpread({}, allValues), {}, {
      [value.currencyCode]: value
    });
  }, {});
};
LocalizedMoneyInput.getHighPrecisionCurrencies = (values, locale) => {
  const typedCurrencyCodes = _Object$keys__default["default"](values);
  return _filterInstanceProperty__default["default"](typedCurrencyCodes).call(typedCurrencyCodes, currencyCode => MoneyInput__default["default"].isHighPrecision(values[currencyCode], locale));
};
LocalizedMoneyInput.getEmptyCurrencies = values => {
  const typedCurrencyCodes = _Object$keys__default["default"](values);
  return _filterInstanceProperty__default["default"](typedCurrencyCodes).call(typedCurrencyCodes, currencyCode => MoneyInput__default["default"].isEmpty(values[currencyCode]));
};
var LocalizedMoneyInput$1 = LocalizedMoneyInput;

// NOTE: This string will be replaced on build time with the package version.
var version = "16.11.0";

exports["default"] = LocalizedMoneyInput$1;
exports.version = version;
